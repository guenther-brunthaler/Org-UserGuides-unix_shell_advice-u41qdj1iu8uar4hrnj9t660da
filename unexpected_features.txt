Empty entries in $PATH
----------------------

At least in dash, such an entry has the same effect as if it were ".", i. e. the current directory will be included in the search for commands.

This is potentially dangerous, because a PATH like

$ PATH=/bin:/usr/bin:

looks harmless and one might think the empty entry at the end has no effect.


Aliases are dangerous
---------------------

POSIX shell aliases are substituted before variables or shell globs are expanded for the command's arguments.

Also, contrary to shell function invocations, aliases are expanded in-line and may convert a seemingly single simple command into a sequence of unrelated commands.

This can be a problem if data is piped into an alias without the user recognizing that fact: Only the first command in the alias will receive the redirection; any remaining expanded commands of the same alias will receive the normal standard input of the process.

Effects can get even weirder if an alias changes shell options temporarily which alter globbing or include "&". But even the inclusion of just ";" can create trouble unless the alias author considers all consequences.

Taken together, aliases can do some things normal shell functions can't, but none of them are normally useful.

If an attacker can inject an alias definition into a shell, he can alter the shell's normal operation in subtle ways and do things one thought would be impossible without modifying the shell binary.

Avoid aliases in scripts and use them only when absolutely necessary.

If in doubt whether an alias has been defined to override a critical command,

use

$ command thecommand

(but "command" may have also be redefined as an alias) or

$ \thecommand

The latter works, because alias substitution takes place before the "unnecessary" Backslash will be removed by the shell parser. (This trick has been learned from an article written by Simon Tatham.)


"sort" supports overwriting its input file "in-place"
-----------------------------------------------------

First of all, POSIX "sort" can take not just one but an arbitratry number of input files as arguments which will be sorted together just as if they had been concatenated with "cat".

Secondly, if the -o option is used to specifiy an output file, that file is allowed to be the same as one of the input files which have been specified as arguments.

Obviously, "sort" needs to read all its input files completely before the actual sort operation can start. But less obviously, it also closes its input files before opening the output file. (Which of course is only possible if "sort" does not write its result to standard output.)
